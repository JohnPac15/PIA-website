<section class="p-5 min-vh-100">
  <div class="container">
    <h1 class="text-center mb-5">The Agents</h1>
    <div class="row d-flex align-items-top justify-content-between g-4 mt-1">
      <div class="col-md">
      <h5>Add New Policy Owner</h5>
        <form class="register-form">
          <input type="text" name="" id="firstname-register" class="form-control my-1 py-2" placeholder="First Name">
          <input type="text" name="" id="lastname-register" class="form-control my-1 py-2" placeholder="Last Name">
          <input type="text" name="" id="email-register" class="form-control my-1 py-2" placeholder="email">
          <input type="text" name="" id="username-register" class="form-control my-1 py-2" placeholder="username">
          <input type="password" name="" id="password-register" class="form-control my-1 py-2" placeholder="password">
          <div class="text-center mt-1">
            <input class="form-check-input" type="checkbox" value="true" id="policyowner" checked>
            <label class="form-check-label" for="policyowner">
              Has a policy with PIA
            </label>     
          </div>
          <div class="text-center mt-1">
            <button type="submit" class="btn btn-warning my-1"><i class="bi bi-plus-lg "></i> Add New Policy Owner</button><br>
          </div>
        </form>
      </div>
      <div class="col-md">
      <h5>Add New Homeowner Policy</h5>
        <form class="new-homeowner-form">
          <input type="number" name="" id="owner-id-home" class="form-control my-1 py-2" placeholder="Customer ID">
          <input type="text" name="" id="address-home" class="form-control my-1 py-2" placeholder="Address">
          <input type="text" name="" id="company-home" class="form-control my-1 py-2" placeholder="Company Name">
          <input type="number" name="" id="premium-home" class="form-control my-1 py-2" placeholder="Annual Premium">
          <input type="number" name="" id="policy-home" class="form-control my-1 py-2" placeholder="Policy Number">
          <input type="text" name="" id="exp-date-home" class="form-control my-1 py-2" placeholder="Expiration Date (YYYY-MM-DD)">          
          <div class="text-center mt-1">
            <button type="submit" class="btn btn-warning my-1"><i class="bi bi-plus-lg "></i> Add Policy</button><br>
          </div>
        </form>
      </div>
      <div class="col-md">
        <h5>Add New Auto Policy</h5>
          <form class="new-auto-form">
            <input type="number" name="" id="owner-id-auto" class="form-control my-1 py-2" placeholder="Customer ID">
            <input type="text" name="" id="company-auto" class="form-control my-1 py-2" placeholder="Company Name">
            <input type="text" name="" id="vehicle-auto" class="form-control my-1 py-2" placeholder="Vehicle">
            <input type="number" name="" id="premium-auto" class="form-control my-1 py-2" placeholder="Annual Premium">
            <input type="number" name="" id="policy-auto" class="form-control my-1 py-2" placeholder="Policy Number">
            <input type="text" name="" id="exp-date-auto" class="form-control my-1 py-2" placeholder="Expiration Date (YYYY-MM-DD)">            
            <div class="text-center mt-1">
              <button type="submit" class="btn btn-warning my-1"><i class="bi bi-plus-lg"></i> Add Policy</button><br>
            </div>
          </form>
      </div>
    </div>
    {{#each user}}
      <h3 class="mt-5">Customer {{id}}: <a href="/edit/{{id}}">{{last_name}}, {{first_name}}</a></h3>
      <div
        class="row d-flex align-items-top justify-content-between g-4 mt-1"
      >
        <div class="col-md">
          <ul class="list-group w-100">
            <div class="title-section h1">
              <i class="bi bi-house-door text-warning"></i>
              <span class="h4 text-secondary">Property Policies</span>
            </div>

            {{#each homeowners_policies as |home|}}
              <li class="list-group-item list-group-item-primary d-flex justify-content-between mt-3">
                <div>Policy ID: <span class="text-dark fst-italic">{{id}}</span>
                </div>
                <div>
                  <a href="/edit/home/{{id}}"><button type="button" class="btn btn-warning">Update</button></a>                   
                </div>
              </li>
              <li class="list-group-item list-group-item-light">Property address:
                <span class="text-dark fst-italic">{{property_address}}</span>
              </li>
              <li class="list-group-item list-group-item-light">Your Policy is with
                <span class="text-dark fst-italic">{{company_name}}</span>
              </li>
              <li class="list-group-item list-group-item-light">Your premium is: $
                <span class="text-dark fst-italic">{{annual_premium}}</span>
              </li>
              <li class="list-group-item list-group-item-light text-decoration-underline">Your policy will expire on:
                <span class="text-danger fst-italic">{{format_date expiration_date}}</span>
              </li>              
            {{/each}}
          </ul>
        </div>
        <div class="col-md">
          <ul class="list-group w-100">
            <div class="title-section h1">
              <i class="bi bi-truck text-warning"></i>
              <span class="h4 text-secondary">Auto Policies</span>
            </div>

            {{#each auto_policies as |auto|}}
              <li class="list-group-item list-group-item-primary d-flex justify-content-between mt-3">
                <div>Policy ID:
                  <span class="text-dark fst-italic">{{id}}</span>
                </div>
                <div>
                  <a href="/edit/auto/{{id}}"><button type="button" class="btn btn-warning">Update</button></a>                   
                </div>
              </li>
              <li class="list-group-item list-group-item-light">Your auto policy is with:
                <span class="text-dark fst-italic">{{auto.company_name}}</span>
              </li>
              <li class="list-group-item list-group-item-light">Vehicle on policy is:
                <span class="text-dark fst-italic">{{auto.vehicle}}</span>
              </li>
              <li class="list-group-item list-group-item-light">Your premium is: $
                <span class="text-dark fst-italic">{{auto.annual_premium}}</span>
              </li>
              <li class="list-group-item list-group-item-light text-decoration-underline">Your auto policy will expire on:
                <span class="text-danger fst-italic">{{format_date auto.expiration_date}}</span>
              </li>   
            {{/each}}            
          </ul>
        </div>
      </div>
    {{/each}}
  </div>
</section>
<script src="/javascript/newpolicy.js"></script>
<script src="/javascript/register.js"></script>

